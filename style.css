:root{
  color-scheme: dark;
  --cell: clamp(18px, 3.2vw, 34px);   /* lato cella */
  --gap: 6px;                         /* spazi tra gruppi UI */
  --clue-bg: #0f1a33;
  --board-bg:#0e172b;
  --ink:#e7e7ef;
  --accent:#60a5fa;
}
*{box-sizing:border-box}
html,body{margin:0;background:#0b1220;color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

.appbar{position:sticky;top:0;z-index:20;background:#0b1220;border-bottom:1px solid #14213d}
.appbar h1{margin:0;padding:.8rem 1rem;font-size:clamp(18px,2.2vw,26px)}

.wrap{padding: .6rem 1rem 2rem; display:grid; gap: var(--gap)}

/* Toolbar */
.toolbar{display:flex;flex-wrap:wrap;gap:.5rem .6rem;align-items:center}
.toolbar .status{margin-left:.5rem;opacity:.9}
button, select{
  font-size:16px; line-height:1.1;
  padding:.55rem .9rem; border-radius:10px; border:1px solid #29406b;
  background:#122244; color:var(--ink); font-weight:700; letter-spacing:.2px
}
button:hover{background:#0e1b36}
button.ghost{background:#ffffff;color:#0b1220;border-color:#94b5ff}
button.ghost:hover{background:#f2f6ff}

/* Scacchiera + indizi in griglia */
.stage{
  overflow:auto;
  border:1px solid #14213d; border-radius:12px; padding: .6rem;
  background:#0b1220;
  display:grid; gap:.4rem;
  grid-template-columns: auto 1fr; /* colonna indizi a sinistra + board */
  grid-template-rows: auto 1fr;    /* riga indizi sopra + board */
}
.corner{grid-column:1;grid-row:1}
.col-clues{grid-column:2;grid-row:1; display:grid; gap:2px; background:transparent}
.row-clues{grid-column:1;grid-row:2; display:grid; gap:2px; background:transparent}
.board{
  grid-column:2; grid-row:2;
  --w:10; --h:10;
  display:grid; gap:2px;
  grid-template-columns:repeat(var(--w), var(--cell));
  grid-auto-rows:var(--cell);
  background:#0b1630; padding:4px; border-radius:12px; border:1px solid #1a2a4d;
}

/* Indizi */
.clue{
  background:var(--clue-bg);
  min-width:var(--cell); min-height:var(--cell);
  border:1px solid #1a2a4d; border-radius:8px;
  display:flex; align-items:center; justify-content:center; gap:4px;
  color:#cbd5e1; padding:.2rem .3rem;
}
.row-clues{grid-template-rows:repeat(auto-fit, var(--cell))}
.col-clues{grid-template-columns:repeat(auto-fit, var(--cell))}
.clue.empty{opacity:.45}

/* Celle */
.cell{background:var(--board-bg); border-radius:6px}
.cell.dark{background:#0c1425}
.cell.fill{background:#22c55e}
.cell.cross{
  position:relative; background:#0b152b;
}
.cell.cross::before, .cell.cross::after{
  content:""; position:absolute; inset:0; margin:auto; width:60%; height:2px; background:#ef4444;
  transform:rotate(45deg)
}
.cell.cross::after{transform:rotate(-45deg)}

/* JSON panel */
.json-panel{background:#0b1220;border:1px solid #14213d;border-radius:12px;padding:1rem}
.json-panel textarea{
  width:100%; height:220px; margin-top:.5rem; border-radius:10px; border:1px solid #1a2a4d;
  background:#0e172b; color:var(--ink); padding:.7rem; font-family:ui-monospace, SFMono-Regular, Menlo, monospace
}
.json-actions{margin-top:.6rem; display:flex; gap:.5rem}

/* Responsive */
@media (max-width: 820px){
  :root{ --cell: clamp(18px, 4.6vw, 30px); }
  .stage{padding:.5rem}
}
@media (max-width: 420px){
  :root{ --cell: 26px; }
  button,select{font-size:15px}
}
